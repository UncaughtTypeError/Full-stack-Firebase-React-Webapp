(this["webpackJsonpWebSEO-Online-Devices"]=this["webpackJsonpWebSEO-Online-Devices"]||[]).push([[0],{135:function(e,a,t){e.exports=t(155)},155:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(14),o=t.n(l),c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function i(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var s=t(207),m=t(209),d=t(57),u=Object(s.a)((function(e){return{root:{marginRight:e.spacing(2)},circularProgress:{marginRight:e.spacing(2)}}})),p=function(e){var a=e.size,t=e.color,n=e.display,l=e.text,o=void 0===l||l,c=u();return r.a.createElement("div",{className:c.root},r.a.createElement(m.a,{className:c.circularProgress,size:a,color:t}),o&&r.a.createElement(d.a,{display:n},"Loading..."))},g=t(6),b=t(70),f=t.n(b),E=t(81),v="403030532426-pum0j9hlgmdst7au6p18pu2na0vih6j8.apps.googleusercontent.com",h=t(11),O=function(e){return function(a){console.log("ACTION: User Props",{props:e}),a({type:"SET_USER_PROPS",payload:e})}},y=function(e){return function(a){console.log("ACTION: Alert",{props:e}),a({type:"HANDLE_FEEDBACK",payload:e})}},j=function(e){return function(a){console.log("ACTION: Data Display Props",{props:e}),a({type:"HANDLE_DISPLAY",payload:e})}},N=t(159),k=function(){var e=Object(h.c)((function(e){return e.userLogin.loggedIn})),a=Object(h.b)();return r.a.createElement(r.a.Fragment,null,e?r.a.createElement(E.GoogleLogout,{clientId:v,buttonText:"Logout",icon:!0,onLogoutSuccess:function(){return a((function(e){console.log("ACTION: Logout Success"),e({type:"LOG_OUT_SUCCESS"})}))},render:function(e){return r.a.createElement(N.a,{variant:"contained",onClick:e.onClick,disabled:e.disabled},"Logout")}}):r.a.createElement(E.GoogleLogin,{clientId:v,buttonText:"Login",icon:!0,onRequest:function(){return a((function(e){console.log("ACTION: Login Request"),e({type:"LOG_IN_PENDING"})}))},onSuccess:function(e){return a(function(e){return function(a){console.log("ACTION: Login Success",{response:e}),a({type:"LOG_IN_SUCCESS",payload:e})}}(e))},onFailure:function(e){return a(function(e){return function(a){console.log("ACTION: Login Error",{error:e}),a({type:"LOG_IN_FAILURE",payload:e})}}(e))},cookiePolicy:"single_host_origin",render:function(e){return r.a.createElement(N.a,{variant:"outlined",onClick:e.onClick,disabled:e.disabled},"Login with Google")}}))},S=t(8),w=r.a.createContext(null),I=t(59),C=t.n(I);t(156),t(147);C.a.initializeApp({apiKey:"AIzaSyBlInHgZgYGowodJxxUU02QP-dMUnrqNjo",authDomain:"web-seo-online-devices.firebaseapp.com",databaseURL:"https://web-seo-online-devices.firebaseio.com",projectId:"web-seo-online-devices",storageBucket:"web-seo-online-devices.appspot.com",messagingSenderId:"467336907858",appId:"1:467336907858:web:5f9bc21cbcf86b0b0de38b",measurementId:"G-ZD4J2YP1XE"}),C.a.analytics(),C.a.database();var x=C.a,D=function(e){return function(a){return r.a.createElement(w.Consumer,null,(function(t){return r.a.createElement(e,Object.assign({firebase:t},a))}))}},_=t(12),L=t(3),T=t(23),F=t(252),A=t(102),R=t.n(A),M=t(103),U=t.n(M),W=t(104),z=t.n(W),H=t(160),P=t(215),B=t(255),G=t(211),q=t(213),K=t(212),V=t(210),Y=Object(s.a)((function(e){var a;return{listItem:Object(g.a)({top:"auto",bottom:0},e.breakpoints.down("sm"),{flexDirection:"column-reverse"}),avatar:(a={},Object(g.a)(a,e.breakpoints.up("md"),{marginLeft:10}),Object(g.a)(a,e.breakpoints.down("sm"),{width:80,height:"auto",margin:"".concat(e.spacing(1),"px auto")}),a),menuIcon:{marginRight:10},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(_.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-start"})}})),J=function(e){var a=e.name;return r.a.createElement(r.a.Fragment,null,"Welcome ",a)},$=function(e){var a=e.laptopsNum,t=e.monitorsNum,n=e.isUser;return r.a.createElement(r.a.Fragment,null,n&&(a>0||t>0)?r.a.createElement("small",null,"You have ",r.a.createElement("strong",null,a," Laptop/s")," and ",r.a.createElement("strong",null,t," Monitor/s")," assigned to your account."):r.a.createElement("small",null,"You have no devices assigned to your account."))},Z=function(e){var a=Object(V.a)("(min-width:960px)"),t=Y(),n=e.imageUrl,l=e.name,o=e.role,c={color:"inherit",align:a?"right":"center",component:"div"},i={laptopsNum:e.laptopsNum,monitorsNum:e.monitorsNum,isUser:e.isUser};return r.a.createElement(G.a,{"data-role":o,className:t.listItem,component:"div"},r.a.createElement(K.a,{primary:r.a.createElement(J,{name:l}),secondary:r.a.createElement($,i),primaryTypographyProps:c,secondaryTypographyProps:c}),r.a.createElement(q.a,null,r.a.createElement(B.a,{alt:l,src:n,className:t.avatar})))},Q=function(e){var a=Object(V.a)("(min-width:960px)"),t=Object(T.a)(),l=Y(),o=Object(n.useState)(!1),c=Object(S.a)(o,2),i=c[0],s=c[1],m=function(e){("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&s(!1)};return r.a.createElement(r.a.Fragment,null,a?r.a.createElement(Z,e):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:l.drawerHeader}),r.a.createElement(H.a,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:function(){s(!0)},className:Object(L.a)(l.menuIcon,i&&l.hide)},r.a.createElement(R.a,null)),r.a.createElement(F.a,{className:l.drawer,variant:"temporary",anchor:"right",open:i,onClose:m,classes:{paper:l.drawerPaper}},r.a.createElement("div",{className:l.drawerHeader},r.a.createElement(H.a,{onClick:m},"rtl"===t.direction?r.a.createElement(U.a,null):r.a.createElement(z.a,null))),r.a.createElement(P.a,null),r.a.createElement(Z,e))))},X=function(){return r.a.createElement("div",null,"Something went wrong...")},ee=t(83),ae=t.n(ee),te=t(105),ne=function(e){for(var a=e.snapshot,t=e.userId,n=void 0===t?null:t,r=a.val(),l=[],o={},c={},i=[],s=0,m=Object.entries(r);s<m.length;s++){var d=Object(S.a)(m[s],2),u=(d[0],d[1]);l.push(u)}return l.map((function(e,a){if(i.push({googleId:e.googleId,role:e.role,profile:{imageUrl:e.profile.imageUrl,email:e.profile.email,name:e.profile.name,givenName:e.profile.givenName,familyName:e.profile.familyName},devices:{laptops:[],monitors:[]},devicesNum:{laptopsNum:0,monitorsNum:0}}),e.devices){o=e.devices.laptops||{};for(var t=0,n=Object.entries(o);t<n.length;t++){var r=Object(S.a)(n[t],1)[0];i[a].devices.laptops.push({id:r,makeModel:o[r].makeModel,serialNo:o[r].serialNo,takenHome:o[r].takenHome}),i[a].devicesNum.laptopsNum++}c=e.devices.monitors||{};for(var l=0,s=Object.entries(c);l<s.length;l++){var m=Object(S.a)(s[l],1)[0];i[a].devices.monitors.push({id:m,makeModel:c[m].makeModel,serialNo:c[m].serialNo,screenSize:c[m].screenSize}),i[a].devicesNum.monitorsNum++}}})),n&&i.some((function(e,a){e.googleId===n&&i.unshift(i.splice(a,1)[0])})),i},re=function(e){var a=Object(h.c)((function(e){return e.profileObject})).googleId,t=Object(h.b)(),r=function(e){return t(function(e){return function(a){console.log("ACTION: Handling Loading..."),a({type:"HANDLE_LOADING",payload:e})}}(e))},l=Object(n.useState)(e),o=Object(S.a)(l,2),c=o[0],i=o[1],s=Object(n.useState)([]),m=Object(S.a)(s,2),d=m[0],u=m[1],p=Object(n.useState)(!1),g=Object(S.a)(p,2),b=g[0],f=g[1],E=Object(n.useState)(!0),v=Object(S.a)(E,2),O=v[0],y=v[1];return Object(n.useEffect)((function(){var e=!1;return function(){var t=Object(te.a)(ae.a.mark((function t(){var n,r;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.database();case 3:n=t.sent,r=n.ref("users"),e||r.on("value",(function(e){e&&u(ne({snapshot:e,userId:a}))})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e||(f(!0),console.error(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!0}}),[c]),Object(n.useEffect)((function(){d.length?(r(!1),y(!1)):(r(!0),y(!0))}),[d]),[{userData:d,isError:b,isLoading:O},i]},le=D((function(e){var a=e.firebase,t=re(a),l=Object(S.a)(t,2),o=l[0],c=o.userData,i=o.isError,s=o.isLoading,m=l[1],d=Object(h.c)((function(e){return e.userLogin.loggedIn})),u=Object(h.c)((function(e){return e.profileObject})),g=Object(h.c)((function(e){return e.devicesObject})),b=Object(h.b)(),f=function(e){return b(function(e){return function(a){console.log("ACTION: Device Props",{props:e}),a({type:"SET_DEVICE_PROPS",payload:e})}}(e))},E=function(e){return b(O(e))},v=Object(n.useState)(!1),y=Object(S.a)(v,2),j=y[0],N=y[1],k=Object(n.useState)({}),w=Object(S.a)(k,2),I=w[0],C=w[1],x=Object(n.useState)({}),D=Object(S.a)(x,2),_=D[0],L=D[1];return Object(n.useEffect)((function(){m(a)}),[a,s]),Object(n.useEffect)((function(){c.some((function(e){return u.googleId===e.googleId?(C({role:e.role,userExists:!0,dataEdit:!!u.dataEdit}),N(!0),L({laptopsNum:e.devicesNum.laptopsNum,monitorsNum:e.devicesNum.monitorsNum})):(C({userExists:!1}),E(I),N(!1)),u.googleId===e.googleId}))}),[c]),Object(n.useEffect)((function(){j&&(E(I),f(_))}),[I,_]),r.a.createElement(r.a.Fragment,null,s?r.a.createElement(p,{size:20,color:"inherit",display:"inline"}):d&&(i?r.a.createElement(X,null):j?r.a.createElement(Q,{imageUrl:u.imageUrl,name:u.name,role:u.role,laptopsNum:g.laptopsNum,monitorsNum:g.monitorsNum,isUser:j}):r.a.createElement(Q,{imageUrl:u.imageUrl,name:u.name,isUser:j})))})),oe=t(246),ce=t(218),ie=t(219),se=t(214),me=t(216),de=t(217),ue=t(220),pe=t(106),ge=t.n(pe),be=Object(s.a)((function(e){var a;return{boxWrapper:Object(g.a)({width:"100%"},e.breakpoints.down(400),{justifyContent:"space-between",flexWrap:"nowrap"}),boxLogo:(a={},Object(g.a)(a,e.breakpoints.down("xs"),{justifyContent:"space-between","& > .MuiTypography-root":{display:"none"}}),Object(g.a)(a,e.breakpoints.down(350),{flex:"0 0 30%","& > img":{width:"100%",height:"auto"}}),a),logo:{width:"auto",height:50,marginRight:10},toTop:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:9999},toolbarAnchor:{minHeight:75},typography:{fontWeight:300}}})),fe=function(e){var a=e.children,t=be(),n=Object(me.a)({disableHysteresis:!0,threshold:100});return r.a.createElement(de.a,{in:n},r.a.createElement("div",{onClick:function(e){var a=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");a&&a.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",className:t.toTop},a))},Ee=function(e){var a=e.children,t=Object(me.a)();return r.a.createElement(se.a,{appear:!1,direction:"down",in:!t},a)},ve=function(e){var a=be();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,e,r.a.createElement(ce.a,{color:"primary"},r.a.createElement(ie.a,null,r.a.createElement(oe.a,{display:"flex",flexWrap:"wrap",alignItems:"center",className:a.boxWrapper},r.a.createElement(oe.a,{display:"flex",alignItems:"center",flexGrow:1,className:a.boxLogo},r.a.createElement("img",{src:f.a,alt:"WebSEO Online Devices",className:a.logo}),r.a.createElement(d.a,{className:a.typography,variant:"h6"},"WebSEO Online Devices")),r.a.createElement(oe.a,{display:"flex",alignItems:"center",className:a.boxUser},r.a.createElement(le,null),r.a.createElement(k,null)))))),r.a.createElement(ie.a,{id:"back-to-top-anchor",className:a.toolbarAnchor}),r.a.createElement(fe,e,r.a.createElement(ue.a,{color:"secondary",size:"small","aria-label":"scroll back to top"},r.a.createElement(ge.a,null))))},he=t(221),Oe=Object(s.a)((function(e){return{root:{padding:e.spacing(2,2,10,2)}}})),ye=function(e){var a=e.children,t=Oe();return r.a.createElement(he.a,{className:t.root,maxWidth:"lg"},a)},je=Object(s.a)((function(e){return{appBar:{top:"auto",bottom:0},typography:{display:"block",margin:"auto"}}})),Ne=function(){var e=je();return r.a.createElement(ce.a,{position:"fixed",color:"primary",className:e.appBar,component:"footer"},r.a.createElement(ie.a,{variant:"dense"},r.a.createElement(d.a,{component:"div",gutterBottom:!0,align:"center",className:e.typography},r.a.createElement("small",null,"\xa9 WebSEO Online Devices ",(new Date).getFullYear()))))},ke=t(222),Se=t(223),we=function(e){var a=e.children,t=e.legend,n=e.className;return r.a.createElement(ke.a,{component:"fieldset",fullWidth:!0,className:n},r.a.createElement(Se.a,{component:"legend"},t),a)},Ie=t(245),Ce=function(e){var a;return r.a.createElement(Ie.a,{type:e.type,id:e.id,name:e.name,placeholder:e.placeholder,onChange:e.onChange,onBlur:e.onBlur,error:!!e.error||void 0,label:e.label,required:e.required,inputProps:(a={},Object(g.a)(a,"data-key",e.dataKey),Object(g.a)(a,"data-deviceid",e.dataDeviceID),Object(g.a)(a,"data-fieldid",e.dataFieldID),Object(g.a)(a,"value",e.value),Object(g.a)(a,"defaultValue",e.defaultValue),a),size:"small",variant:"filled",margin:"none",fullWidth:!0})},xe=t(226),De=t(249),_e=function(e){var a;return r.a.createElement(xe.a,{control:r.a.createElement(De.a,{id:e.id,name:e.name,onChange:e.onChange,onBlur:e.onBlur,checked:e.checked,error:!!e.error||void 0,required:e.required,inputProps:(a={},Object(g.a)(a,"data-key",e.dataKey),Object(g.a)(a,"data-deviceid",e.dataDeviceID),Object(g.a)(a,"data-fieldid",e.dataFieldID),Object(g.a)(a,"value",e.value),a)}),labelPlacement:e.labelPlacement,label:e.label,htmlFor:e.htmlFor})},Le=t(250),Te=function(e){var a;return r.a.createElement(xe.a,{control:r.a.createElement(Le.a,{id:e.id,name:e.name,onChange:e.onChange,onBlur:e.onBlur,checked:e.checked,error:!!e.error||void 0,required:e.required,inputProps:(a={},Object(g.a)(a,"data-key",e.dataKey),Object(g.a)(a,"data-deviceid",e.dataDeviceID),Object(g.a)(a,"data-fieldid",e.dataFieldID),Object(g.a)(a,"value",e.value),a)}),labelPlacement:e.labelPlacement,label:e.label,htmlFor:e.htmlFor})},Fe=t(228),Ae=t(227),Re=t(74),Me=t.n(Re),Ue=t(38),We=t.n(Ue),ze=t(39),He=t.n(ze),Pe=Object(s.a)((function(e){return{profileDetails:Object(g.a)({display:"flex",flexWrap:"wrap"},e.breakpoints.down(500),{"& > span:first-child":{flex:"1 1 100%",marginBottom:e.spacing(1)}}),icon:{color:e.palette.action.disabled,verticalAlign:"sub",marginLeft:5},badge:Object(g.a)({marginLeft:e.spacing(1),"& > span":{fontSize:10,minWidth:15,width:15,height:15}},e.breakpoints.down(500),{marginLeft:0,marginRight:e.spacing(1)})}})),Be=function(e){var a=e.user,t=e.selectedUser,l=e.onClick,o=Pe(),c=Object(n.useState)({}),i=Object(S.a)(c,2),s=i[0],m=i[1];return Object(n.useEffect)((function(){m({laptopsNum:a.devices.laptops.length||0,monitorsNum:a.devices.monitors.length||0})}),[a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{alignItems:"flex-start",id:a.googleId,key:a.googleId,role:a.role,onClick:l,dense:!0,button:!0,className:o.listItem},r.a.createElement(q.a,null,r.a.createElement(B.a,{alt:a.profile.name,src:a.profile.imageUrl})),r.a.createElement(K.a,{primary:r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{component:"span",variant:"body1",display:"inline"},a.profile.name),"admin"===a.role&&r.a.createElement(Me.a,{fontSize:"small",className:o.icon})),secondary:r.a.createElement(d.a,{component:"span",variant:"body2",color:"textPrimary",className:o.profileDetails},r.a.createElement("span",null,a.profile.email),s.laptopsNum>0&&r.a.createElement(Ae.a,{className:o.badge,badgeContent:s.laptopsNum,color:"secondary"},r.a.createElement(We.a,{fontSize:"small",className:o.icon})),s.monitorsNum>0&&r.a.createElement(Ae.a,{className:o.badge,badgeContent:s.monitorsNum,color:"secondary"},r.a.createElement(He.a,{fontSize:"small",className:o.icon})))}),r.a.createElement(Fe.a,null,r.a.createElement(H.a,{edge:"end","aria-label":"Selected user"},r.a.createElement(Le.a,{onClick:l,checked:a.googleId===t,tabIndex:-1,disableRipple:!0})))),r.a.createElement(P.a,{component:"li"}))},Ge=function(e){return Object(g.a)({},e.googleId,{googleId:e.googleId,role:"user",profile:{imageUrl:e.imageUrl,email:e.email,name:e.name,givenName:e.givenName,familyName:e.familyName},devices:{laptops:{},monitors:{}}})},qe=function(e,a){var t=Ge(e),n=null;a.once("value",(function(e){n=e.val()})),a.set(Object(_.a)({},n,{},t),(function(e){e?console.error("Data could not be saved."+e):console.info("Data saved successfully.")}))},Ke=function(e,a){var t=!1;switch(a){case"add":for(var n=0,r=Object.entries(e);n<r.length;n++){var l=Object(S.a)(r[n],1)[0];if(e.hasOwnProperty(l)&&!0===e[l]){t=!0;break}t=!1}break;case"update":for(var o=0,c=Object.entries(e);o<c.length;o++){var i=Object(S.a)(c[o],1)[0];if(e.hasOwnProperty(i)&&!0===e[i]){t=!0;break}t=!1}break;default:return}return!!t},Ve=t(229),Ye=t(231),Je=t(230),$e=t(225),Ze=t(253),Qe=t(232),Xe=t(34),ea=t.n(Xe),aa=t(107),ta=t.n(aa),na=Object(s.a)((function(e){var a,t;return{card:{marginBottom:20},cardContent:{"&:last-child":{paddingBottom:e.spacing(2)}},cardActions:{padding:0,"&:not(:empty)":{marginTop:e.spacing(2)}},buttonGroup:(a={width:"100%"},Object(g.a)(a,e.breakpoints.down(500),{"& > button":{flex:"1 1 50%"}}),Object(g.a)(a,e.breakpoints.down(350),{flexWrap:"wrap","& > button":{flex:"1 1 100%",margin:"auto",borderRadius:"4px !important"},"& > button:disabled":{border:"1px solid rgba(0, 0, 0, 0.12)"},"& > button:first-of-type":{marginBottom:e.spacing(2)}}),a),fieldSet:{marginTop:e.spacing(2),paddingTop:e.spacing(1),borderTop:"1px solid rgba(0, 0, 0, 0.12)","& > legend":{paddingRight:e.spacing(1)}},fieldWrap:(t={},Object(g.a)(t,e.breakpoints.up(750),{"& > div:not(:last-child)":{padding:e.spacing(0,2,0,0)}}),Object(g.a)(t,e.breakpoints.down(750),{"& > div":{flex:"1 1 100%",padding:e.spacing(0),marginBottom:e.spacing(2)},"& > div:last-child label":{marginLeft:e.spacing(0)}}),t),icon:{color:e.palette.action.disabled,verticalAlign:"bottom",marginRight:5}}})),ra=D((function(e){var a=Object(h.c)((function(e){return e.profileObject})),t=a.googleId,l=a.role,o=Object(h.b)(),c=function(e){return o(y(e))},i=e.firebase,s=na(),m=re(i),u=Object(S.a)(m,2),b=u[0],f=b.userData,E=b.isError,v=b.isLoading,O=u[1],j=Object(n.useState)({laptops:!1,monitors:!1}),k=Object(S.a)(j,2),w=k[0],I=k[1],C=Object(n.useState)(null),x=Object(S.a)(C,2),D=x[0],L=x[1],T=Object(n.useState)({}),F=Object(S.a)(T,2),A=F[0],R=F[1],M=Object(n.useState)({laptops:!1,monitors:!1}),U=Object(S.a)(M,2),W=U[0],z=U[1],H=Object(n.useState)(!0),P=Object(S.a)(H,2),B=P[0],G=P[1],q=Object(n.useState)(!1),K=Object(S.a)(q,2),V=K[0],Y=K[1],J=Object(n.useState)(t),$=Object(S.a)(J,2),Z=$[0],Q=$[1];Object(n.useEffect)((function(){O(i)}),[i,v,V]),Object(n.useEffect)((function(){("laptops"===D&&Object.entries(A).length>=2||"monitors"===D&&Object.entries(A).length>=3)&&A&&D&&G(Ke(A,"add"))}),[A]);var ee=function(e,a){L(e),z(Object(g.a)({},e,!0)),I({laptops:!1,monitors:!1}),R({}),G(!0)},ae=function(e,a,t,n){var r={};if(r[D]=Object(_.a)({},w[D],Object(g.a)({},e,a)),I(Object(_.a)({},w,{},r)),n){var l,o=!a.length&&!0!==a;l=Object(_.a)({},A,Object(g.a)({},t,o)),R(Object(_.a)({},A,{},l))}};return r.a.createElement(Ve.a,{className:s.card,elevation:3},r.a.createElement(Je.a,{className:s.cardContent},r.a.createElement(d.a,{variant:"h6"},"Add A New Device"),r.a.createElement(we,{legend:"Type of device",className:s.fieldSet},r.a.createElement(Ze.a,{row:!0},r.a.createElement(_e,{id:"deviceType_laptop",name:"typeOfDevice",value:"laptops",defaultChecked:W.laptops,checked:W.laptops,onChange:function(e){return ee(e.target.value)},label:"Laptop",htmlFor:"deviceType_laptop"}),r.a.createElement(_e,{id:"deviceType_monitor",name:"typeOfDevice",value:"monitors",defaultChecked:W.monitors,checked:W.monitors,onChange:function(e){return ee(e.target.value)},label:"Monitor",htmlFor:"deviceType_monitor"}))),"laptops"===D&&r.a.createElement(we,{legend:"Add new laptop",className:s.fieldSet},r.a.createElement(oe.a,{display:"flex",flexWrap:"wrap",alignItems:"center",component:"div",className:s.fieldWrap},r.a.createElement(oe.a,{flexGrow:1},r.a.createElement(Ce,{placeholder:"Make / Model",id:"laptop_makeModel",dataKey:"makeModel",dataFieldID:"laptops_makeModel".concat(1),error:A["laptops_makeModel".concat(1)],onBlur:function(e){return ae(e.target.dataset.key,e.target.value,e.target.dataset.fieldid,e.target.required)},label:"Make / Model",htmlFor:"laptop_makeModel",required:!0})),r.a.createElement(oe.a,{flexGrow:1},r.a.createElement(Ce,{placeholder:"Serial No.",id:"laptop_serialNo",dataKey:"serialNo",dataFieldID:"laptops_makeModel".concat(2),error:A["laptops_makeModel".concat(2)],onBlur:function(e){return ae(e.target.dataset.key,e.target.value,e.target.dataset.fieldid,e.target.required)},label:"Serial No.",htmlFor:"laptop_serialNo",required:!0})),r.a.createElement(oe.a,null,r.a.createElement(Te,{placeholder:"Taken home?",id:"laptop_takenHome",dataKey:"takenHome",dataFieldID:"laptops_makeModel".concat(3),error:A["laptops_makeModel".concat(3)],onChange:function(e){return ae(e.target.dataset.key,e.target.checked,e.target.dataset.fieldid,e.target.required)},label:"Taken home?",htmlFor:"laptop_takenHome",labelPlacement:"start",required:!1})))),"monitors"===D&&r.a.createElement(we,{legend:"Add new monitor",className:s.fieldSet},r.a.createElement(oe.a,{display:"flex",flexWrap:"wrap",alignItems:"center",component:"div",className:s.fieldWrap},r.a.createElement(oe.a,{flexGrow:1},r.a.createElement(Ce,{placeholder:"Make / Model",id:"monitor_makeModel",dataKey:"makeModel",dataFieldID:"monitors_makeModel".concat(1),error:A["monitors_makeModel".concat(1)],onBlur:function(e){return ae(e.target.dataset.key,e.target.value,e.target.dataset.fieldid,e.target.required)},label:"Make / Model",htmlFor:"monitor_makeModel",required:!0})),r.a.createElement(oe.a,{flexGrow:1},r.a.createElement(Ce,{placeholder:"Serial No.",id:"monitor_serialNo",dataKey:"serialNo",dataFieldID:"monitors_makeModel".concat(2),error:A["monitors_makeModel".concat(2)],onBlur:function(e){return ae(e.target.dataset.key,e.target.value,e.target.dataset.fieldid,e.target.required)},label:"Serial No.",htmlFor:"monitor_serialNo",required:!0})),r.a.createElement(oe.a,{flexGrow:1},r.a.createElement(Ce,{placeholder:"Screen Size",id:"monitor_screenSize",dataKey:"screenSize",dataFieldID:"monitors_makeModel".concat(3),error:A["monitors_makeModel".concat(3)],onBlur:function(e){return ae(e.target.dataset.key,e.target.value,e.target.dataset.fieldid,e.target.required)},label:"Screen Size",htmlFor:"monitor_screenSize",required:!0})))),"admin"===l&&("laptops"===D||"monitors"===D)&&r.a.createElement(we,{legend:"Assign to Employee",className:s.fieldSet},r.a.createElement(Te,{id:"employeeAssignment",name:"employeeAssignment",defaultChecked:!1,onChange:function(e){return a=e.target.checked,Y(a),void(a||Q(t));var a},label:"Yes",htmlFor:"employeeAssignment"}),V&&(v?r.a.createElement(p,{size:20,display:"inline"}):E?r.a.createElement(X,null):r.a.createElement($e.a,{className:s.list},f.map((function(e){return r.a.createElement(Be,{user:e,selectedUser:Z,key:e.googleId,onClick:function(){return a=e.googleId,void Q(a);var a}})}))))),r.a.createElement(Ye.a,{className:s.cardActions},("laptops"===D||"monitors"===D)&&r.a.createElement(Qe.a,{variant:"outlined",className:s.buttonGroup},r.a.createElement(N.a,{onClick:function(){return function(){var e=i.database().ref("users");e.child(Z).once("value",(function(t){t.exists()||qe(a,e),e.child(Z).child("devices").child(D).push(w[D]).then((function(){c({alert:!0,severity:"success",message:"Device Added.",open:!0})})).catch((function(e){console.error("Update could not be saved."+e),c({alert:!0,severity:"error",message:"Database Error. Update failed...",open:!0})}))}))}()},disabled:B},r.a.createElement(ta.a,{fontSize:"small",className:s.icon})," Add Device"),r.a.createElement(N.a,{onClick:function(){return L(null),z(!1),void G(!0)}},r.a.createElement(ea.a,{fontSize:"small",className:s.icon})," Cancel")))))})),la=function(e){return e.replace(/[-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},oa=t(233),ca=t(108),ia=t.n(ca),sa=Object(s.a)((function(e){return{search:Object(g.a)({marginLeft:e.spacing(2),"& input":{width:"20ch",transition:".3s",paddingTop:e.spacing(1)},"& input:focus":{width:"25ch"}},e.breakpoints.down(700),{width:"100%",margin:e.spacing(1,0),"& input":{width:"100%",padding:e.spacing(2,0)},"& input:focus":{width:"100%"}}),searchIcon:{marginTop:"0 !important"}}})),ma=function(e){var a=e.userData,t=Object(V.a)("(max-width:600px)"),l=sa(),o=Object(h.b)(),c=function(e){return o((a=e,function(e){console.log("ACTION: Search Filter Results",{results:a}),e({type:"HANDLE_SEARCH_FILTER",payload:a})}));var a},i=function(e){return o(function(e){return function(a){console.log("ACTION: Search Filter Term",{term:e}),a({type:"STORE_SEARCH_FILTER",payload:e})}}(e))},s=Object(n.useState)(!1),m=Object(S.a)(s,2),d=m[0],u=m[1],p=Object(n.useRef)();return r.a.createElement(Ie.a,{onKeyUp:function(e){return function(e){u(!1),e=e.replace(/\s/g,"");var t,n=new RegExp(la(e),"gi");e.length?(t=a.filter((function(e){return e.profile.name.match(n)})),c(t),i(e)):(c(null),i(null))}(e.target.value)},className:l.search,id:"user-search",placeholder:"Search Users...",variant:"filled",size:t?"medium":"small",defaultValue:d?"":void 0,inputRef:p,InputProps:{"aria-label":"Search Users...",startAdornment:r.a.createElement(oa.a,{className:l.searchIcon,position:"start"},r.a.createElement(ia.a,{fontSize:"small",color:"action"})),endAdornment:r.a.createElement(oa.a,{position:"end"},r.a.createElement(H.a,{"aria-label":"Clear Field",onClick:function(){return u(!0),p.current.value="",c(null),void i(null)},size:"small"},r.a.createElement(ea.a,{fontSize:"small"})))}})},da=t(256),ua=t(234),pa=Object(s.a)((function(e){var a;return{root:Object(g.a)({marginBottom:5},e.breakpoints.down(700),{"& > div":{flex:"1 1 100%"}}),icon:Object(g.a)({color:e.palette.action.disabled,verticalAlign:"bottom",marginLeft:5},e.breakpoints.down(850),{marginLeft:0}),chip:(a={marginRight:e.spacing(1)},Object(g.a)(a,e.breakpoints.down(850),{"& > .MuiChip-label":{fontSize:0}}),Object(g.a)(a,e.breakpoints.down(350),{display:"none"}),a),badge:{marginRight:0,"& > span":{position:"relative",transform:"scale(1) translate(0%, -5%)",background:"#9c9c9c"}}}})),ga=D((function(e){var a=e.userData,t=pa(),l=Object(h.c)((function(e){return e.dataDisplayObject.displayTypeSummary})),o=Object(h.b)(),c=Object(n.useState)(l),i=Object(S.a)(c,2),s=i[0],m=i[1],u=Object(n.useState)({}),p=Object(S.a)(u,2),g=p[0],b=p[1];return Object(n.useEffect)((function(){!function(e){o(j(e))}({displayTypeSummary:s})}),[s]),Object(n.useEffect)((function(){m(l)}),[l]),Object(n.useEffect)((function(){var e={laptopsNum:0,monitorsNum:0};a.map((function(a){e=Object(_.a)({},e,{laptopsNum:e.laptopsNum+=a.devices.laptops.length,monitorsNum:e.monitorsNum+=a.devices.monitors.length})})),b(Object(_.a)({},e))}),[a]),r.a.createElement(oe.a,{className:t.root,display:"flex",flexWrap:"wrap",alignItems:"end"},r.a.createElement(oe.a,{flexGrow:1},r.a.createElement(xe.a,{control:r.a.createElement(ua.a,{checked:s,onChange:function(e){m(e.target.checked)}}),label:s?"Detail view":"Summary view"}),r.a.createElement(d.a,{component:"h5",display:"inline"},r.a.createElement(da.a,{className:t.chip,size:"small",label:r.a.createElement(r.a.Fragment,null,"Laptops",r.a.createElement(We.a,{fontSize:"small",className:t.icon})),icon:r.a.createElement(Ae.a,{className:t.badge,badgeContent:g.laptopsNum,color:"primary"})}),r.a.createElement(da.a,{className:t.chip,size:"small",label:r.a.createElement(r.a.Fragment,null,"Monitors",r.a.createElement(He.a,{fontSize:"small",className:t.icon})),icon:r.a.createElement(Ae.a,{className:t.badge,badgeContent:g.monitorsNum,color:"primary"})}))),r.a.createElement(oe.a,{flexGrow:1,display:"flex",justifyContent:"flex-end"},r.a.createElement(ma,{userData:a})))})),ba=t(2),fa=Object(s.a)((function(e){return{listItem:{top:"auto",bottom:0,padding:0},avatar:{marginRight:10},icon:{color:e.palette.action.disabled,verticalAlign:"sub",marginLeft:5},mark:{background:e.palette.primary.main,color:"white"}}})),Ea=function(e){var a=fa(),t=Object(h.c)((function(e){return e.searchFilterResults.searchTerm})),n=e.name,l=new RegExp("(".concat(t,")"),"gi"),o=n.split(l);return r.a.createElement(r.a.Fragment,null,o.filter((function(e){return e})).map((function(e,t){return l.test(e)?r.a.createElement("mark",{key:t,className:a.mark},e):r.a.createElement("span",{key:t},e)})))},va=function(e){var a=fa(),t=e.name,n=e.roles;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ea,{name:t}),"admin"===n.viewerRole&&"admin"===n.userRole&&r.a.createElement(Me.a,{fontSize:"small",className:a.icon}))},ha=function(e){var a=e.email;return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"mailto:".concat(a)},a))},Oa=function(e){var a=fa(),t=e.profile,n=Object(ba.a)(e,["profile"]),l={component:"div"};return r.a.createElement(G.a,{"data-role":n.viewerRole,className:a.listItem,component:"div"},r.a.createElement(q.a,null,r.a.createElement(B.a,{alt:t.name,src:t.imageUrl,className:a.avatar})),r.a.createElement(K.a,{primary:r.a.createElement(va,Object.assign({name:t.name},n)),secondary:r.a.createElement(ha,{email:t.email}),primaryTypographyProps:l,secondaryTypographyProps:l}))},ya=t(236),ja=t(235),Na=t(76),ka=t.n(Na),Sa=t(109),wa=t.n(Sa),Ia=Object(s.a)((function(e){var a;return{icon:{color:e.palette.action.disabled,verticalAlign:"bottom",marginRight:5},tableRow:Object(g.a)({},e.breakpoints.down(450),{"& .MuiTableCell-body":{flexDirection:"column",alignItems:"end",textAlign:"left"}}),tableRowFlex:{display:"flex",flexWrap:"wrap","& .MuiTableCell-body":{flex:"1 1 100%",display:"flex",justifyContent:"space-between",flexWrap:"wrap",flexDirection:"row",alignItems:"center",padding:e.spacing(1,2)},"&:not(:first-child) .MuiTableCell-body:first-child":{borderTop:"2px solid rgba(224, 224, 224, 1)"},"& .MuiTableCell-body > strong":{marginRight:e.spacing(2)},"& .MuiTableCell-body > label":{marginRight:0}},tableEmptyColumn:{padding:"0 !important"},tableActionColumn:{width:"10%",minWidth:150},buttonGroup:(a={width:"100%"},Object(g.a)(a,e.breakpoints.down(500),{"& > button":{flex:"1 1 50%"}}),Object(g.a)(a,e.breakpoints.down(350),{flexWrap:"wrap","& > button":{flex:"1 1 100%",margin:"auto",borderRadius:"4px !important",border:"1px solid rgba(0, 0, 0, 0.23) !important"},"& > button:first-of-type":{marginBottom:e.spacing(2)}}),a)}})),Ca=D((function(e){var a=e.firebase,t=e.device,l=e.deviceType,o=e.state_user,c=e.user_googleId,i=e.user_edit,s=Object(V.a)("(max-width:960px)"),m=Object(V.a)("(max-width:750px)"),d=Ia(),u=Object(h.b)(),p=function(e){return u(y(e))},b=Object(n.useState)({}),f=Object(S.a)(b,2),E=f[0],v=f[1],O=Object(n.useState)(!1),j=Object(S.a)(O,2),k=j[0],w=j[1],I=Object(n.useState)(t.takenHome),C=Object(S.a)(I,2),x=C[0],D=C[1],T=Object(n.useState)({}),F=Object(S.a)(T,2),A=F[0],R=F[1];Object(n.useEffect)((function(){A&&w(Ke(A,"update"))}),[A]);var M=function(e,a,t,n,r,l){var o={};if(o[t]=Object(_.a)({},E[t],Object(g.a)({},e,a)),v(Object(_.a)({},E,{},o)),r){var c,i=!a.length&&!0!==a;c=Object(_.a)({},A,Object(g.a)({},n,i)),R(Object(_.a)({},A,{},c))}"checkbox"===l&&D(a)};return r.a.createElement(ja.a,{key:t.id,id:t.id,className:Object(L.a)(d.tableRow,(s&&c===i||m)&&d.tableRowFlex)},!o.dataEdit||c!==i||c!==o.googleId&&"admin"!==o.role?r.a.createElement(r.a.Fragment,null,r.a.createElement(ya.a,{align:"left"},m&&r.a.createElement("strong",null,"Make / Model",":"),r.a.createElement("span",null,t.makeModel)),r.a.createElement(ya.a,{align:"right"},m&&r.a.createElement("strong",null,"Serial No.",":"),r.a.createElement("span",null,t.serialNo)),"laptops"===l&&r.a.createElement(ya.a,{align:"right"},m&&r.a.createElement("strong",null,"Taken Home?",":"),t.takenHome?r.a.createElement("span",null,r.a.createElement(wa.a,{className:d.icon})):r.a.createElement("span",null,r.a.createElement(ea.a,{className:d.icon}))),"monitors"===l&&r.a.createElement(ya.a,{align:"right"},m&&r.a.createElement("strong",null,"Screen Size",":"),r.a.createElement("span",null,t.screenSize)),r.a.createElement(ya.a,{align:"right",className:d.tableEmptyColumn})):r.a.createElement(r.a.Fragment,null,r.a.createElement(ya.a,{align:"left"},r.a.createElement(Ce,{defaultValue:t.makeModel,dataKey:"makeModel",dataDeviceID:t.id,dataFieldID:t.id+1,error:A[t.id+1],label:"Make / Model",onBlur:function(e){return M(e.target.dataset.key,e.target.value,e.target.dataset.deviceid,e.target.dataset.fieldid,e.target.required)},required:!0})),r.a.createElement(ya.a,{align:"right"},r.a.createElement(Ce,{defaultValue:t.serialNo,dataKey:"serialNo",dataDeviceID:t.id,dataFieldID:t.id+2,error:A[t.id+2],label:"Serial No.",onBlur:function(e){return M(e.target.dataset.key,e.target.value,e.target.dataset.deviceid,e.target.dataset.fieldid,e.target.required)},required:!0})),"laptops"===l&&r.a.createElement(ya.a,{align:"right"},s&&r.a.createElement("strong",null,"Taken Home?",":"),r.a.createElement(Te,{defaultValue:t.takenHome,dataKey:"takenHome",dataDeviceID:t.id,dataFieldID:t.id+3,error:A[t.id+3],checked:x,type:"checkbox",onChange:function(e){return M(e.target.dataset.key,!!e.target.checked,e.target.dataset.deviceid,e.target.dataset.fieldid,e.target.required,e.target.type)},required:!1})),"monitors"===l&&r.a.createElement(ya.a,{align:"right"},r.a.createElement(Ce,{defaultValue:t.screenSize,dataKey:"screenSize",dataDeviceID:t.id,dataFieldID:t.id+4,error:A[t.id+4],label:"Screen Size",onBlur:function(e){return M(e.target.dataset.key,e.target.value,e.target.dataset.deviceid,e.target.dataset.fieldid,e.target.required)},required:!0})),r.a.createElement(ya.a,{align:"right",className:d.tableActionColumn},r.a.createElement(Qe.a,{variant:"outlined",className:d.buttonGroup},r.a.createElement(N.a,{onClick:function(){return function(e,t,n){var r=a.database().ref("users").child(e).child("devices").child(n).child(t),l=E[t];r.once("value",(function(e){var a=e.val();r.update(Object(_.a)({},a,{},l)).then((function(){p({alert:!0,severity:"success",message:"Update successful!",open:!0})})).catch((function(e){console.error("Update could not be saved."+e),p({alert:!0,severity:"error",message:"Database Error. Update failed...",open:!0})}))}))}(c,t.id,l)},disabled:k},r.a.createElement(ka.a,{fontSize:"small",className:d.icon})," Update"),r.a.createElement(N.a,{onClick:function(){return function(e,t,n){a.database().ref("users").child(e).child("devices").child(n).child(t).remove().then((function(){p({alert:!0,severity:"success",message:"Device Removed.",open:!0})})).catch((function(e){console.error("Update could not be saved."+e),p({alert:!0,severity:"error",message:"Database Error. Removal failed...",open:!0})}))}(c,t.id,l)}},r.a.createElement(ea.a,{fontSize:"small",className:d.icon})," Remove")))))})),xa=t(238),Da=t(240),_a=t(237),La=t(239),Ta=t(116),Fa=Object(s.a)((function(e){return{table:Object(g.a)({minWidth:650},e.breakpoints.down(750),{minWidth:"100%"}),tableContainer:{marginBottom:10},tableHeaderWrap:{},tableHeaderWrapFlex:{"& > tr":{justifyContent:"space-between",display:"flex"},'& > tr:last-child:not([class*="tableHeader"])':{display:"none"}},tableHeader:Object(g.a)({backgroundColor:e.palette.action.selected},e.breakpoints.down(750),{justifyContent:"space-between"}),tableLeadColumn:{minWidth:300},tableDataColumn:{width:"20%",minWidth:150},tableEmptyColumn:{padding:"0 !important"},icon:{color:e.palette.action.disabled,verticalAlign:"bottom"},badge:{marginRight:0,"& > span":{position:"relative",transform:"scale(1) translate(0%, 0%)",background:"#9c9c9c"}}}})),Aa=function(e){var a=e.devices,t=e.deviceType,n=e.devicesNum,l=e.state_user,o=e.user_googleId,c=e.user_edit,i=Object(h.c)((function(e){return e.dataDisplayObject.displayTypeSummary})),s=Object(V.a)("(max-width:960px)"),m=Object(V.a)("(max-width:750px)"),u=Fa();return r.a.createElement(_a.a,{className:u.tableContainer,component:Ta.a},r.a.createElement(xa.a,{className:u.table,size:"small","aria-label":"simple table"},r.a.createElement(La.a,{className:Object(L.a)(u.tableHeaderWrap,(s&&o===c||m)&&u.tableHeaderWrapFlex)},"laptops"===t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ja.a,{className:u.tableHeader},r.a.createElement(ya.a,{colSpan:2},r.a.createElement(d.a,{component:"h5"},r.a.createElement(We.a,{className:u.icon})," Laptops")),r.a.createElement(ya.a,{colSpan:2,align:"right"},r.a.createElement(Ae.a,{className:u.badge,badgeContent:n,color:"primary"}))),!i&&r.a.createElement(ja.a,null,r.a.createElement(ya.a,{align:"left",className:u.tableLeadColumn},"Make / Model"),r.a.createElement(ya.a,{align:"right",className:u.tableDataColumn},"Serial No."),r.a.createElement(ya.a,{align:"right",className:u.tableDataColumn},"Taken Home?"),!l.dataEdit||o!==c||o!==l.googleId&&"admin"!==l.role?r.a.createElement(ya.a,{align:"right",className:u.tableEmptyColumn}):r.a.createElement(ya.a,{align:"right",className:u.tableDataColumn},"Actions"))),"monitors"===t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ja.a,{className:u.tableHeader},r.a.createElement(ya.a,{colSpan:2},r.a.createElement(d.a,{component:"h5"},r.a.createElement(He.a,{className:u.icon})," Monitors")),r.a.createElement(ya.a,{colSpan:2,align:"right"},r.a.createElement(Ae.a,{className:u.badge,badgeContent:n,color:"primary"}))),!i&&r.a.createElement(ja.a,null,r.a.createElement(ya.a,{align:"left",className:u.tableLeadColumn},"Make / Model"),r.a.createElement(ya.a,{align:"right",className:u.tableDataColumn},"Serial No."),r.a.createElement(ya.a,{align:"right",className:u.tableDataColumn},"Screen Size"),!l.dataEdit||o!==c||o!==l.googleId&&"admin"!==l.role?r.a.createElement(ya.a,{align:"right",className:u.tableEmptyColumn}):r.a.createElement(ya.a,{align:"right",className:u.tableDataColumn},"Actions")))),r.a.createElement(Da.a,null,"laptops"===t&&!i&&a.map((function(e){return r.a.createElement(Ca,{device:e,deviceType:t,key:e.id,id:e.id,state_user:l,user_edit:c,user_googleId:o})})),"monitors"===t&&!i&&a.map((function(e){return r.a.createElement(Ca,{device:e,deviceType:t,key:e.id,id:e.id,state_user:l,user_edit:c,user_googleId:o})})))))},Ra=Object(s.a)((function(e){return{listHeader:Object(g.a)({},e.breakpoints.down(600),{"& > div":{flex:"1 1 100%"},"& > div:last-child":{display:"flex",alignItems:"center",margin:e.spacing(1,0),padding:e.spacing(2,0),borderTop:"1px solid rgba(224, 224, 224, 1)"},"& > div:last-child > button":{flex:"1 1 100%",marginLeft:e.spacing(2)}}),icon:{color:e.palette.action.disabled,verticalAlign:"bottom",marginRight:5},badge:{marginRight:e.spacing(2)}}})),Ma=D((function(e){var a=e.user,t=e.id,l=Ra(),o=Object(h.c)((function(e){return e.profileObject})),c=Object(h.c)((function(e){return e.dataDisplayObject.displayTypeSummary})),i=Object(h.b)(),s=function(e){return i(O(e))},m=function(e){return i(j(e))},u=Object(n.useState)(null),p=Object(S.a)(u,2),g=p[0],b=p[1],f=Object(n.useState)({}),E=Object(S.a)(f,2),v=E[0],y=E[1],k=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;b(a),s({dataEdit:e}),m({displayTypeSummary:!1})};return Object(n.useEffect)((function(){s(c?{dataEdit:!1}:{dataEdit:!0})}),[c]),Object(n.useEffect)((function(){y({laptopsNum:a.devices.laptops.length||0,monitorsNum:a.devices.monitors.length||0})}),[a]),r.a.createElement(r.a.Fragment,null,(v.laptopsNum>0||v.monitorsNum>0)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{key:t,id:a.googleId},r.a.createElement(oe.a,{component:"div",style:{width:"100%"}},r.a.createElement(oe.a,{display:"flex",flexWrap:"wrap",alignItems:"center",className:l.listHeader},r.a.createElement(oe.a,{component:"div",flexGrow:1},r.a.createElement(Oa,{profile:a.profile,roles:{viewerRole:o.role,userRole:a.role}})),r.a.createElement(oe.a,{component:"div"},v.laptopsNum>0&&r.a.createElement(Ae.a,{className:l.badge,badgeContent:v.laptopsNum,color:"secondary"},r.a.createElement(We.a,{className:l.icon})),v.monitorsNum>0&&r.a.createElement(Ae.a,{className:l.badge,badgeContent:v.monitorsNum,color:"secondary"},r.a.createElement(He.a,{className:l.icon})),(a.devices.laptops.length>0||a.devices.monitors.length>0)&&(a.googleId===o.googleId||"admin"===o.role)&&(o.dataEdit&&a.googleId===g?r.a.createElement(N.a,{variant:"contained",onClick:function(){return k(!1)}},r.a.createElement(ea.a,{fontSize:"small",className:l.icon})," Done"):r.a.createElement(N.a,{variant:"outlined",onClick:function(){return k(!0,a.googleId)}},r.a.createElement(ka.a,{fontSize:"small",className:l.icon})," Update")))),r.a.createElement("div",{className:"devices"},r.a.createElement("div",{className:"devices_laptops"},a.devices.laptops.length?r.a.createElement(Aa,{devices:a.devices.laptops,deviceType:"laptops",devicesNum:v.laptopsNum,state_user:o,user_edit:g,user_googleId:a.googleId}):r.a.createElement(d.a,{component:"div"},"No Laptops found...")),r.a.createElement("div",{className:"devices_monitors"},a.devices.monitors.length?r.a.createElement(Aa,{devices:a.devices.monitors,deviceType:"monitors",devicesNum:v.monitorsNum,state_user:o,user_edit:g,user_googleId:a.googleId}):r.a.createElement(d.a,{component:"div"},"No Monitors found..."))))),r.a.createElement(P.a,{component:"li"})))})),Ua=t(110),Wa=t.n(Ua),za=Object(s.a)((function(e){return{list:{width:"100%",padding:0},text:{padding:"20px 0"},icon:{display:"block",fontSize:"3em",margin:"20px auto 0 auto"}}})),Ha=D((function(e){var a=e.firebase,t=za(),l=Object(h.c)((function(e){return e.searchFilterResults.resultsObject})),o=re(a),c=Object(S.a)(o,2),i=c[0],s=i.userData,m=i.isError,u=i.isLoading,g=c[1],b=Object(n.useState)([]),f=Object(S.a)(b,2),E=f[0],v=f[1];return Object(n.useEffect)((function(){g(a)}),[a,u]),Object(n.useEffect)((function(){v(l||s)}),[l,s]),r.a.createElement(r.a.Fragment,null,u?r.a.createElement(oe.a,{display:"flex",justifyContent:"center",alignItems:"center",component:"div",style:{width:"100%"}},r.a.createElement(p,{text:!1})):m?r.a.createElement(X,null):E&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ga,{userData:s}),r.a.createElement(Ta.a,{elevation:3},r.a.createElement($e.a,{className:t.list},E.length?E.map((function(e){return r.a.createElement(Ma,{user:e,key:e.googleId,id:e.googleId})})):r.a.createElement(d.a,{align:"center",variant:"h5",className:t.text},"No Results...",r.a.createElement(Wa.a,{fontSize:"large",color:"disabled",className:t.icon}))))))})),Pa=t(251),Ba=t(247),Ga=Object(s.a)((function(e){return{anchorOriginBottomLeft:{marginBottom:e.spacing(5)}}})),qa=function(e){return r.a.createElement(Ba.a,Object.assign({elevation:6,variant:"filled"},e))},Ka=function(){var e=Ga(),a=Object(h.c)((function(e){return e.alertObject})),t=Object(h.b)(),l=Object(n.useState)(!1),o=Object(S.a)(l,2),c=o[0],i=o[1];Object(n.useEffect)((function(){i(a.open)}),[a]);var s=function(e,a){"clickaway"!==a&&(i(!1),t(y({alert:!1,severity:"",message:"",open:!1})))};return r.a.createElement(r.a.Fragment,null,a.alert&&r.a.createElement(Pa.a,{className:e.anchorOriginBottomLeft,anchorOrigin:{vertical:"bottom",horizontal:"left"},open:c,autoHideDuration:3e3,onClose:s},r.a.createElement(qa,{onClose:s,severity:a.severity},a.message)))},Va=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve,null),r.a.createElement(ye,null,r.a.createElement(ra,null),r.a.createElement(Ha,null),r.a.createElement(Ka,null)),r.a.createElement(Ne,null))},Ya=t(241),Ja=t(242),$a=Object(s.a)((function(e){return{gridContainer:{position:"absolute",top:0,bottom:50},logo:{height:0,paddingTop:"56.25%",backgroundSize:"80%",backgroundColor:e.palette.primary.main},card:{margin:"auto",width:"100%",textAlign:"center"},typography:{fontWeight:300,marginBottom:30}}})),Za=function(){var e=$a();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ya.a,{className:e.gridContainer,container:!0,alignItems:"center",justify:"center"},r.a.createElement(Ya.a,{item:!0,xs:8,sm:5,md:4,lg:3,xl:2},r.a.createElement(Ve.a,{className:e.card},r.a.createElement(Ja.a,{className:e.logo,image:f.a,title:"WebSEO Online Devices"}),r.a.createElement(Je.a,null,r.a.createElement(d.a,{className:e.typography,variant:"h6"},"WebSEO Online Devices"),r.a.createElement(k,null))))),r.a.createElement(Ne,null))},Qa=t(115),Xa=t(243),et=t(244),at=function(){var e=Object(V.a)("(prefers-color-scheme: dark)"),a=Object(n.useMemo)((function(){return Object(Qa.a)({palette:{type:e?"dark":"light",primary:{main:"#aa1111"}}})}),[e]),t=Object(h.c)((function(e){return e.userLogin.loggedIn}));return r.a.createElement(Xa.a,{theme:a},r.a.createElement(et.a,null),t?r.a.createElement(Va,null):r.a.createElement(Za,null))},tt=t(111),nt=t(29),rt=t(112),lt=t(84),ot=t(113),ct=t.n(ot),it=t(114),st=t.n(it),mt={loggedIn:!1,response:null},dt={googleId:null,role:null,imageUrl:null,email:null,name:null,givenName:null,familyName:null,userExists:!1,dataEdit:!1},ut=function(e){var a=e.profileObj;return{googleId:a.googleId,imageUrl:a.imageUrl,email:a.email,name:a.name,givenName:a.givenName,familyName:a.familyName}},pt={laptopsNum:0,monitorsNum:0},gt={alert:!1,severity:"",message:"",open:!1},bt={displayTypeSummary:!1},ft={searchTerm:null,resultsObject:null},Et={isLoading:!1};var vt=Object(nt.c)({userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case"LOG_IN_PENDING":return console.log("pending"),Object(_.a)({},e,{loggedIn:!1,response:null});case"LOG_IN_SUCCESS":console.log("success",a.payload);var t=a.payload;return Object(_.a)({},e,{loggedIn:!0,response:t});case"LOG_OUT_SUCCESS":return console.log("success"),Object(_.a)({},e,{loggedIn:!1,response:null});case"LOG_IN_FAILURE":console.log("failure");var n=a.payload;return Object(_.a)({},e,{loggedIn:!1,response:n});default:return e}},profileObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case"LOG_IN_SUCCESS":var t=ut(a.payload);return Object(_.a)({},e,{},t);case"SET_USER_PROPS":var n=a.payload;return Object(_.a)({},e,{},n);case"LOG_OUT_SUCCESS":return Object(_.a)({},e,{},dt);default:return e}},devicesObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case"SET_DEVICE_PROPS":var t=a.payload;return Object(_.a)({},e,{},t);default:return e}},alertObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case"HANDLE_FEEDBACK":var t=a.payload;return Object(_.a)({},e,{},t);default:return e}},dataDisplayObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case"HANDLE_DISPLAY":var t=a.payload;return Object(_.a)({},e,{},t);default:return e}},searchFilterResults:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case"HANDLE_SEARCH_FILTER":var t=a.payload;return Object(_.a)({},e,{resultsObject:t});case"STORE_SEARCH_FILTER":var n=a.payload;return Object(_.a)({},e,{searchTerm:n});default:return e}},handleLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case"HANDLE_LOADING":console.log("loading state:",a.payload);var t=a.payload;return Object(_.a)({},e,{isLoading:t});default:return e}}}),ht={key:"root",blacklist:["searchFilterResults"],storage:ct.a,stateReconciler:st.a},Ot=Object(lt.a)(ht,vt),yt=Object(nt.d)(Ot,Object(nt.a)(rt.a)),jt=Object(lt.b)(yt),Nt=document.getElementById("root");o.a.render(r.a.createElement(h.a,{store:yt},r.a.createElement(tt.a,{loading:r.a.createElement(p,null),persistor:jt},r.a.createElement(w.Provider,{value:x},r.a.createElement(at,null)))),Nt),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("","/service-worker.js");c?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):i(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):i(a,e)}))}}()},70:function(e,a,t){e.exports=t.p+"static/media/Web-SEO-Online-Logo-white-transparent.7cb63763.png"}},[[135,1,2]]]);
//# sourceMappingURL=main.43e4b2c0.chunk.js.map